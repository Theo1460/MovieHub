(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7579:function(e,t,r){Promise.resolve().then(r.bind(r,4913))},4913:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return R}});var a=r(7437),s=r(2265),i=r(1994),o=r(3335);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,o.m6)((0,i.W)(t))}let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:n("rounded-xl border bg-card text-card-foreground shadow",r),...s})});l.displayName="Card",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:n("flex flex-col space-y-1.5 p-6",r),...s})}).displayName="CardHeader",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("h3",{ref:t,className:n("font-semibold leading-none tracking-tight",r),...s})}).displayName="CardTitle",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("p",{ref:t,className:n("text-sm text-muted-foreground",r),...s})}).displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:n("p-6 pt-0",r),...s})});c.displayName="CardContent";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:n("flex items-center p-6 pt-0",r),...s})});d.displayName="CardFooter";let u=s.forwardRef((e,t)=>{let{className:r,type:s,...i}=e;return(0,a.jsx)("input",{type:s,className:n("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...i})});u.displayName="Input";var f=r(7053);let m=(0,r(7712).j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),v=s.forwardRef((e,t)=>{let{className:r,variant:s,size:i,asChild:o=!1,...l}=e,c=o?f.g7:"button";return(0,a.jsx)(c,{className:n(m({variant:s,size:i,className:r})),ref:t,...l})});v.displayName="Button";var g=r(8997),p=r(3247),h=r(2414);let x=h.fC,b=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(h.aV,{ref:t,className:n("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",r),...s})});b.displayName=h.aV.displayName;let y=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(h.xz,{ref:t,className:n("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",r),...s})});y.displayName=h.xz.displayName;let w=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(h.VY,{ref:t,className:n("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...s})});w.displayName=h.VY.displayName;var N=r(3145);let j="ca033664d69e46239a2fefbbcd663c4d";async function k(e){let t=e?"https://api.themoviedb.org/3/discover/movie?api_key=".concat(j,"&with_genres=").concat(e):"https://api.themoviedb.org/3/movie/popular?api_key=".concat(j);try{let e=await fetch(t);return(await e.json()).results.map(e=>({id:e.id,title:e.title,overview:e.overview,image:"https://image.tmdb.org/t/p/w400".concat(e.poster_path),vote_average:e.vote_average,vote_count:e.vote_count}))}catch(e){return console.error("Error fetching popular movies:",e),[]}}async function _(e){let t="https://api.themoviedb.org/3/search/movie?api_key=".concat(j,"&query=").concat(encodeURIComponent(e));try{let e=await fetch(t);return(await e.json()).results.map(e=>({id:e.id,title:e.title,overview:e.overview,image:"https://image.tmdb.org/t/p/w400".concat(e.poster_path),vote_average:e.vote_average,vote_count:e.vote_count}))}catch(e){return console.error("Error searching movies:",e),[]}}async function C(){try{let e=await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=".concat(j));return(await e.json()).genres}catch(e){return console.error("Error fetching genres:",e),[]}}function R(){let[e,t]=(0,s.useState)(""),[r,i]=(0,s.useState)([]),[o,n]=(0,s.useState)([]),[f,m]=(0,s.useState)([]),[h,j]=(0,s.useState)(null);(0,s.useEffect)(()=>{{let e=localStorage.getItem("favorites");e&&n(JSON.parse(e))}},[]),(0,s.useEffect)(()=>{localStorage.setItem("favorites",JSON.stringify(o))},[o]),(0,s.useEffect)(()=>{(async function(){m(await C())})()},[]),(0,s.useEffect)(()=>{(async function(){i(await k(h||void 0))})()},[h]);let R=async()=>{e?i(await _(e)):i(await k(h||void 0))},S=e=>{n(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},E=e=>{let{movie:t,isFavorite:r}=e;return(0,a.jsxs)(l,{className:"w-full rounded-[2rem] overflow-hidden shadow-lg group relative",children:[(0,a.jsx)(c,{className:"p-0",children:(0,a.jsxs)("div",{className:"relative aspect-square",children:[(0,a.jsx)(N.default,{src:t.image,alt:t.title,width:400,height:600,className:"object-cover rounded-[2rem]"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black opacity-0 group-hover:opacity-80 transition-opacity rounded-[2rem] flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"text-white text-center",children:[(0,a.jsx)("p",{className:"text-sm md:text-base mb-2",children:t.overview}),(0,a.jsx)("div",{className:"mb-2",children:(0,a.jsxs)("p",{className:"text-lg font-semibold",children:[t.vote_average,"/10"]})}),(0,a.jsxs)("p",{className:"text-sm",children:[t.vote_count," reviews"]})]})}),(0,a.jsxs)(v,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 w-10 h-10 rounded-full bg-background/50 hover:bg-background/75 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>S(t.id),children:[(0,a.jsx)(g.Z,{className:"w-6 h-6 ".concat(r?"fill-red-500 text-red-500":"text-white")}),(0,a.jsx)("span",{className:"sr-only",children:"Toggle favorite"})]})]})}),(0,a.jsx)(d,{className:"p-4",children:(0,a.jsx)("h3",{className:"font-medium text-base text-center w-full text-foreground",children:t.title})})]},t.id)};return(0,a.jsxs)("div",{className:"bg-background min-h-screen p-8",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold mb-8 text-primary",children:"Popular Movies"}),(0,a.jsxs)("div",{className:"flex items-center mb-8",children:[(0,a.jsx)(u,{type:"search",placeholder:"Search movies...",className:"max-w-md text-black bg-white",value:e,onChange:e=>t(e.target.value)}),(0,a.jsxs)(v,{onClick:R,className:"ml-2 bg-black text-white hover:bg-gray-800",variant:"ghost",size:"icon",children:[(0,a.jsx)(p.Z,{className:"w-6 h-6"}),(0,a.jsx)("span",{className:"sr-only",children:"Search"})]})]}),(0,a.jsx)("div",{className:"flex mb-8",children:(0,a.jsxs)("select",{value:h||"",onChange:e=>j(Number(e.target.value)),className:"bg-white text-black p-2 rounded-md",children:[(0,a.jsx)("option",{value:"",children:"All Genres"}),f.map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))]})}),(0,a.jsxs)(x,{defaultValue:"all",className:"mb-8",children:[(0,a.jsxs)(b,{children:[(0,a.jsx)(y,{value:"all",children:"All Movies"}),(0,a.jsx)(y,{value:"favorites",children:"Favorites"})]}),(0,a.jsx)(w,{value:"all",children:(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:r.map(e=>(0,a.jsx)(E,{movie:e,isFavorite:o.includes(e.id)},e.id))})}),(0,a.jsx)(w,{value:"favorites",children:(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:r.filter(e=>o.includes(e.id)).map(e=>(0,a.jsx)(E,{movie:e,isFavorite:!0},e.id))})})]})]})}}},function(e){e.O(0,[28,971,117,744],function(){return e(e.s=7579)}),_N_E=e.O()}]);